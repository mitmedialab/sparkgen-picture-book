webpackJsonp([1],{"+dii":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("pIGQ"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("sVOQ");var o=function(e){a("IgNB")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-2858b868",null);t.default=u.exports},"+gcm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=a("V6ix"),r=(n=s)&&n.__esModule?n:{default:n};t.default={name:"LoginPage",components:{GoogleSignInButton:r.default},directives:{GoogleSignInButton:r.default},data:function(){return{clientId:"578852570402-u65ldlou42ecup68pus2i7nis5k26j0m.apps.googleusercontent.com"}},watch:{"$store.state.userId":function(){""!==this.$store.state.userId&&this.$router.push({name:"Home"})}},methods:{onGoogleAuthSuccess:function(e){var t=JSON.parse(atob(e.split(".")[1]));this.$store.commit("updateUserId",t.email),this.$store.commit("updateUniqueId",t.sub),this.$store.commit("updateJwtCreds",e)}}}},0:function(e,t){},"0Odl":function(e,t,a){"use strict";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",[this.active?t("button",{staticClass:"delete-button button-74",attrs:{id:"page-delete-button"},on:{click:this.deletePage}},[this._v("\n        Delete Page\n    ")]):this._e()])},staticRenderFns:[]};t.a=n},"31Zk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("r9DK"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("TQlu");var o=function(e){a("XKUX")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-218e794e",null);t.default=u.exports},"6Mon":function(e,t){},"8PSq":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YA3G"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("r7iZ");var o=function(e){a("6Mon")},u=a("VU/8")(s.a,i.a,!1,o,null,null);t.default=u.exports},"8iEb":function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",[a("div",{staticClass:"page-box",attrs:{id:"box-"+e.pageNumber},on:{click:e.boxClicked}},[e.selectedImage>-1?a("div",{staticClass:"box-content"},[a("div",{staticClass:"picture-box"},[a("img",{staticClass:"picture-box regular-image",attrs:{src:e.$store.state.pages[e.pageNumber].allImages[e.$store.state.pages[e.pageNumber].selectedImage]}})]),e._v(" "),a("h1",{staticClass:"box-text"},[e._v("\n                "+e._s(e.$store.state.pages[e.pageNumber].caption)+"\n            ")])]):e._e()]),e._v(" "),a("DeleteButton",{attrs:{pageNumber:e.pageNumber,active:e.active},on:{pageDeleted:e.pageDeleted}})],1)},staticRenderFns:[]};t.a=n},"8m38":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("wrCO"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("8iEb");var o=function(e){a("LTTK")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-1e189cc2",null);t.default=u.exports},Ad7o:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("ujv0"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("BugX");var o=function(e){a("BLyb")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-b41c1c00",null);t.default=u.exports},"An/s":function(e,t,a){"use strict";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"page"},[t("h1",{staticClass:"title-page"},[this._v(this._s(this.$store.state.currentTitle))]),this._v(" "),""!=this.$store.state.titleImage?t("div",{staticClass:"box-content"},[t("div",{staticClass:"picture-box"},[t("img",{staticClass:"picture-box regular-image",attrs:{src:this.$store.state.titleImage}})])]):this._e()])},staticRenderFns:[]};t.a=n},AnuV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=a("fZjL"),r=(n=s)&&n.__esModule?n:{default:n};t.default={name:"DeleteButton",props:{pageNumber:{type:Number,required:!0},active:{type:Boolean,required:!0}},data:function(){return{alerts:{}}},methods:{deletePage:function(){if(1!=(0,r.default)(this.$store.state.pages).length)this.$store.commit("deletePage",{pageNumber:this.pageNumber}),this.$emit("pageDeleted",this.pageNumber);else{this.$store.commit("alert",{message:"Book must contain at least one page",status:"error"})}}}}},BLyb:function(e,t){},BX6G:function(e,t){},BugX:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[""!=e.$store.state.apikey?a("section",{key:e.$store.state.measurementIdFirebase,staticClass:"title-area"},[e.editing||""==e.$store.state.titleImage?a("textarea",{staticClass:"title-content",domProps:{value:e.draft},on:{input:function(t){e.draft=t.target.value}}}):e._e(),e._v(" "),e.editing||""===e.$store.state.titleImage?e._e():a("h1",{staticClass:"title-font"},[e._v("\n            "+e._s(this.$store.state.currentTitle)+"\n        ")]),e._v(" "),e.editing||""===e.$store.state.titleImage?e._e():a("button",{staticClass:"edit-button button-74",on:{click:e.editTitle}},[e._v("Edit Title Page\n        ")]),e._v(" "),e.editing||""==e.$store.state.titleImage?a("button",{staticClass:"title-button button-74",on:{click:e.addTitle}},[e._v("Generate Image\n        ")]):e._e()]):e._e(),e._v(" "),""!=e.$store.state.apikey?a("section",{staticClass:"title-image"},[e.editing||""==e.$store.state.titleImage?a("TitleImage",{attrs:{currentTitle:e.draft,generateImage:e.generateImage},on:{titleEditing:e.titleEditing}}):e._e()],1):e._e(),e._v(" "),""==e.$store.state.apikey?a("section",{staticClass:"api-area"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.getEncryptedItems.apply(null,arguments)}}},[a("input",{staticClass:"title-content api-content",attrs:{type:"text",maxlength:"200",placeholder:"Username",required:!0},domProps:{value:e.username},on:{input:function(t){e.username=t.target.value}}}),e._v(" "),a("input",{staticClass:"title-content api-content",attrs:{type:"password",maxlength:"200",placeholder:"Enter your password",required:!0},domProps:{value:e.password},on:{input:function(t){e.password=t.target.value}}}),e._v(" "),a("button",{staticClass:"title-button button-74 api-button",attrs:{type:"submit"}},[e._v("Enter in your information\n            ")])]),e._v(" "),e._m(0)]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"disclaimers"},[a("h3",[e._v("By continuing, you agree to the following:")]),e._v(" "),a("li",[e._v("\n          The content generated from this site is solely for personal use and\n          may not be used for commercial purposes without proper licensing or\n          permission.\n        ")]),e._v(" "),a("li",[e._v("\n          You are responsible for ensuring that any generated content does not\n          infringe on any intellectual property rights, including but not\n          limited to copyright, trademarks, and publicity rights.\n        ")]),e._v(" "),a("li",[e._v("\n          You are aware that this tool may produce content that is not\n          appropriate for all ages, and you are solely responsible for\n          determining the appropriateness of the content for their audience.\n        ")]),e._v(" "),a("li",[e._v("\n          The tool may produce content that contains errors, inaccuracies, or\n          omissions, and you assume all risk associated with using the tool and\n          the resulting content.\n        ")]),e._v(" "),a("li",[e._v("\n          The developer of the tool assumes no liability for any damages arising\n          from the use of the tool or the resulting content, including but not\n          limited to direct, indirect, incidental, and consequential damages.\n        ")])])}]};t.a=n},EdL2:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.preventDefault(),e.finishPage.apply(null,arguments)}}},[a("section",{staticClass:"title-area"},[a("textarea",{staticClass:"sentence-content",attrs:{placeholder:"Enter in the sentence you are thinking of writing on the next page",required:!0},domProps:{value:e.draft},on:{input:function(t){e.draft=t.target.value}}})]),e._v(" "),a("button",{staticClass:"finish-button button-74",attrs:{type:"submit"}},[e._v("\n        Save Page\n    ")])])},staticRenderFns:[]};t.a=n},IgNB:function(e,t){},Izyd:function(e,t){},JAM1:function(e,t){},KJKp:function(e,t){},KrVR:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",[""!==e.$store.state.titleImage?a("ExportButton",{staticClass:"export-button",attrs:{pageNumber:e.currentPage}}):e._e(),e._v(" "),""===e.$store.state.titleImage?a("section",{staticClass:"title-section"},[e.$store.state.apikey?a("h2",[e._v("\n      Welcome to your story!\n      ")]):e._e(),e._v(" "),e.$store.state.apikey?a("h2",[e._v("\n        Add a title to begin a new story!\n      ")]):e._e(),e._v(" "),e.$store.state.apikey?e._e():a("h2",[e._v("\n        Login to StorifAI\n      ")])]):e._e(),e._v(" "),a("TitleForm",{staticClass:"top-of-page",style:[""!==e.$store.state.titleImage?{"margin-left":"11em"}:""],on:{titleEditing:e.titleEditing}}),e._v(" "),""===e.$store.state.titleImage||e.editingTitle?e._e():a("section",{staticClass:"container"},[a("div",{staticClass:"top-of-page"},[a("h1",[e._v("Currently editing page "+e._s(e.currentPage))]),e._v(" "),a("PictureDisplay",{staticClass:"picture-display",attrs:{pageNum:e.currentPage,changeCount:e.changeCount}})],1),e._v(" "),a("section",[a("SentenceForm",{staticClass:"sentence-form",attrs:{pageNum:e.currentPage},on:{sentenceEdited:e.sendNotificationToGeneration}}),e._v(" "),a("NextSentenceForm",{staticClass:"sentence-form",attrs:{pageNum:e.currentPage,changeCount:e.saveNextSentence,changedPage:e.nextSentenceInfo},on:{finishPage:e.finishPage}})],1),e._v(" "),""!==e.$store.state.titleImage?a("div",{staticClass:"page-component"},e._l(Object.keys(e.$store.state.pages).length,function(t){return a("PageComponent",{key:t,attrs:{pageNumber:t,active:t===e.currentPage,selectedImage:e.$store.state.pages[t].selectedImage},on:{boxClicked:e.getPage,pageDeleted:e.pageDeleted}})}),1):e._e()]),e._v(" "),a("section",{staticClass:"alerts"},e._l(e.$store.state.alerts,function(t,n,s){return a("article",{key:s,class:t},[a("p",[e._v(e._s(n))])])}),0)],1)},staticRenderFns:[]};t.a=n},LTTK:function(e,t){},M93x:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("xJD8"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("zUo+");var o=function(e){a("BX6G")},u=a("VU/8")(s.a,i.a,!1,o,null,null);t.default=u.exports},NHnr:function(e,t,a){"use strict";var n=o(a("7+uW")),s=o(a("M93x")),r=o(a("cHtD")),i=o(a("olkN"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.config.productionTip=!1,new n.default({el:"#app",router:r.default,store:i.default,components:{App:s.default},template:"<App/>"})},P3Or:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"NextSentenceForm",data:function(){return{draft:this.$store.state.pages[this.pageNum].nextCaption?this.$store.state.pages[this.pageNum].nextCaption:""}},props:{pageNum:{type:Number,required:!0},changeCount:{type:Number,required:!0},changedPage:{type:Number,required:!0}},watch:{changeCount:function(){this.$store.commit("editNextSentence",{pageNum:this.changedPage,sentence:this.draft.trim()})},pageNum:function(){this.draft=this.$store.state.pages[this.pageNum].nextCaption?this.$store.state.pages[this.pageNum].nextCaption:""}},methods:{finishPage:function(){this.$emit("finishPage")}}}},Pet2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lZR5"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("KrVR");var o=function(e){a("Izyd")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-2ed07a4c",null);t.default=u.exports},S7iS:function(e,t){},SS0e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("U87t"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("Xvhn"),o=a("VU/8")(s.a,i.a,!1,null,null,null);t.default=o.exports},SkNQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TitlePageTemplate"}},TQlu:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"page"},[e.selectedImage>-1?a("div",{staticClass:"picture-box"},[a("img",{staticClass:"picture-box regular-image",attrs:{src:e.$store.state.pages[e.pageNumber].allImages[e.$store.state.pages[e.pageNumber].selectedImage]}})]):e._e(),e._v(" "),a("h1",{staticClass:"box-text"},[e._v("\n        "+e._s(e.$store.state.pages[e.pageNumber].caption)+"\n    ")])])},staticRenderFns:[]};t.a=n},U87t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a("mvHQ")),s=c(a("8FmL")),r=c(a("31Zk")),i=c(a("tJOI")),o=a("a6Nv"),u=a("iUfa");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ExportButton",components:{VueHtml2pdf:s.default,PagePdfTemplate:r.default,TitlePageTemplate:i.default},props:{pageNumber:{type:Number,required:!0}},mounted:function(){document.getElementById("pdf-converter").html2Pdf={html2canvas:{useCORS:!0,allowTaint:!0}}},methods:{exportPdf:function(){this.$refs.html2Pdf.generatePdf(),this.exportJson()},exportJson:function(){var e=(0,u.ref)(o.jsonRef,this.$store.state.userId);e=(0,u.ref)(e,(new Date).toJSON());var t=(0,n.default)(this.$store.state.pages),a=new Blob([t],{type:"application/json"});(0,u.uploadBytes)(e,a)}}}},XKUX:function(e,t){},Xvhn:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("button",{staticClass:"button-74",on:{click:e.exportPdf}},[e._v("\n        Export to PDF\n    ")]),e._v(" "),a("vue-html2pdf",{ref:"html2Pdf",attrs:{id:"pdf-converter","show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1122,filename:"storifAI-book","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-margin":10,"pdf-orientation":"portrait","pdf-content-width":"800px"}},[a("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("TitlePageTemplate"),e._v(" "),e._l(Object.keys(e.$store.state.pages).length,function(t){return a("div",{key:t,attrs:{id:e.pageNumber}},[""!==e.$store.state.pages[t].caption&&-1!==e.$store.state.pages[t].selectedImage?a("PagePdfTemplate",{attrs:{pageNumber:t,selectedImage:e.$store.state.pages[t].selectedImage}}):e._e()],1)})],2)])],1)},staticRenderFns:[]};t.a=n},YA3G:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a("Xxa5")),s=i(a("exGp")),r=i(a("mvHQ"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SentenceForm",data:function(){return{draft:this.$store.state.currentSentence,constantPre:"This is a story about "+this.$store.state.currentTitle+". Write one more sentence of the story. The following is the most recent sentence of the story: ",sentences:["This is the first page of the story, so there is no suggested sentence."],previousSentence:"This is a story about "+this.$store.state.currentTitle,loading:!1}},props:{pageNum:{type:Number,required:!1}},watch:{"$store.state.pageCount":function(){this.draft=""},"$store.state.currentSentence":function(){this.draft=this.$store.state.currentSentence},pageNum:function(e){1!==e&&0===this.$store.state.pages[e].generatedSentences.length?(this.loading=!0,this.previousSentence=this.$store.state.pages[e-1].caption,this.previousSentence=this.constantPre+this.previousSentence,this.generateSentence()):this.sentences=1===e?["This is the first page of the story, so there is no suggested sentence."]:this.$store.state.pages[e].generatedSentences}},methods:{addSentence:function(){if(/[A-Za-z0-9 _.,!\"\'\/$]+/.test(this.draft.trim())&&this.draft.trim().length<=140)this.$store.commit("changeSentence",{pageNum:this.pageNum,sentence:this.draft.trim()}),this.$emit("sentenceEdited",!0);else{this.$store.commit("alert",{message:"Invalid sentence inputted",status:"error"})}},generateSentence:function(){var e={method:"POST",message:"Successfully added generated sentences",body:(0,r.default)({model:"text-davinci-003",prompt:this.previousSentence,temperature:.7,max_tokens:96,top_p:1,n:3,frequency_penalty:0,presence_penalty:.3})};this.request(e)},request:function(){var e=(0,s.default)(n.default.mark(function e(t){var a,s,r,i,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:t.method,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.apikey}},t.body&&(a.body=t.body),e.prev=2,e.next=5,fetch("https://api.openai.com/v1/completions",a);case 5:if((s=e.sent).ok){e.next=11;break}return e.next=9,s.json();case 9:throw r=e.sent,new Error(r.error);case 11:return e.next=13,s.json();case 13:i=e.sent,this.sentences=i.choices.map(function(e){return e.text}),this.$store.commit("refreshGeneratedSentence",{pageNum:this.pageNum,sentences:this.sentences}),this.loading=!1,e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),o="There was an error fetching suggested sentences",this.$store.commit("alert",{message:o,status:"error"});case 23:case"end":return e.stop()}},e,this,[[2,19]])}));return function(t){return e.apply(this,arguments)}}()}}},YGRv:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[0===this.images.length?a("div",[a("section",{staticClass:"box-container"},[e.loading?a("p",{staticClass:"centered"},[e._v("Loading...\n            ")]):e._e(),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3)])]):e._e(),e._v(" "),this.images.length>0?a("div",[a("section",{staticClass:"box-container"},[e.loading?a("p",{staticClass:"centered"},[e._v("Loading...\n            ")]):e._e(),e._v(" "),a("section",{staticClass:"box"},[a("img",{staticClass:"box regular-image",style:{"box-shadow":e.selected[0]?"0px 0px 10px 10px yellow":""},attrs:{src:e.images[0]},on:{click:function(t){return e.imgClicked(0)}}})]),e._v(" "),a("section",{staticClass:"box"},[a("img",{staticClass:"box regular-image",style:{"box-shadow":e.selected[1]?"0px 0px 10px 10px yellow":""},attrs:{src:e.images[1]},on:{click:function(t){return e.imgClicked(1)}}})]),e._v(" "),a("section",{staticClass:"box"},[a("img",{staticClass:"box regular-image",style:{"box-shadow":e.selected[2]?"0px 0px 10px 10px yellow":""},attrs:{src:e.images[2]},on:{click:function(t){return e.imgClicked(2)}}})]),e._v(" "),a("section",{staticClass:"box"},[a("img",{staticClass:"box regular-image",style:{"box-shadow":e.selected[3]?"0px 0px 10px 10px yellow":""},attrs:{src:e.images[3]},on:{click:function(t){return e.imgClicked(3)}}})])])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty-box"},[t("p",{staticClass:"box-text"},[this._v("No image generated")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty-box"},[t("p",{staticClass:"box-text"},[this._v("No image generated")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty-box"},[t("p",{staticClass:"box-text"},[this._v("No image generated")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty-box"},[t("p",{staticClass:"box-text"},[this._v("No image generated")])])}]};t.a=n},a6Nv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonRef=t.imagesRef=void 0;var n,s=a("Qv+p"),r=a("iUfa"),i=a("7uuU"),o=a("olkN"),u=(n=o)&&n.__esModule?n:{default:n};var c={apiKey:u.default.state.apiKeyFirebase,authDomain:u.default.state.authDomainFirebase,projectId:u.default.state.projectIdFirebase,storageBucket:u.default.state.storageBucketFirebase,messagingSenderId:u.default.state.messagingSenderIdFirebase,appId:u.default.state.appIdFirebase,measurementId:u.default.state.measurementIdFirebase},l=(0,s.initializeApp)(c);if(u.default.state.jwtCredentials){var d=(0,i.getAuth)(l),f=i.GoogleAuthProvider.credential(u.default.state.jwtCredentials);(0,i.signInWithCredential)(d,f)}else if(u.default.state.userId){var p=(0,i.getAuth)(l);(0,i.signInAnonymously)(p)}var g=(0,r.getStorage)(l),m=(0,r.ref)(g,"images"),h=(0,r.ref)(g,"jsons");t.imagesRef=m,t.jsonRef=h},a6qI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("P3Or"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("EdL2");var o=function(e){a("KJKp")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-0ff74982",null);t.default=u.exports},aKzY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=a("Zrlr"),r=(n=s)&&n.__esModule?n:{default:n};t.default=function e(){(0,r.default)(this,e),this.picture="",this.caption="",this.nextCaption="",this.previousSentence="",this.generatedSentences=[],this.allImages=[],this.selectedImage=-1}},cHtD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("7+uW")),s=u(a("/ocq")),r=u(a("Pet2")),i=u(a("pZvF")),o=u(a("ZyIq"));function u(e){return e&&e.__esModule?e:{default:e}}n.default.use(s.default),n.default.use(o.default);var c=[{path:"/",name:"Login",component:i.default},{path:"/home",name:"Home",component:r.default}],l=new s.default({routes:c});l.beforeEach(function(e,t,a){l.app.$store&&"Login"===e.name?a({name:"Home"}):a()}),t.default=l},cYSq:function(e,t){},"eie/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("pTRu"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("YGRv");var o=function(e){a("S7iS")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-25d46a36",null);t.default=u.exports},evJ6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("AnuV"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("0Odl");var o=function(e){a("JAM1")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-6c03d711",null);t.default=u.exports},kSbZ:function(e,t,a){"use strict";var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[a("section",[a("header",[a("h2",[e._v("Login to StorifAI")])])]),e._v(" "),a("section",{staticClass:"disclaimers"},[a("h3",[e._v("By continuing, you agree to the following:")]),e._v(" "),a("li",[e._v("The content generated from this site is solely for personal use and may not be used for commercial purposes without proper licensing or permission.")]),e._v(" "),a("li",[e._v("You are responsible for ensuring that any generated content does not infringe on any intellectual property rights, including but not limited to copyright, trademarks, and publicity rights.")]),e._v(" "),a("li",[e._v("You are aware that this tool may produce content that is not appropriate for all ages, and you are solely responsible for determining the appropriateness of the content for their audience.")]),e._v(" "),a("li",[e._v("The tool may produce content that contains errors, inaccuracies, or omissions, and you assume all risk associated with using the tool and the resulting content.")]),e._v(" "),a("li",[e._v("The developer of the tool assumes no liability for any damages arising from the use of the tool or the resulting content, including but not limited to direct, indirect, incidental, and consequential damages.")])])])}]};t.a=n},lZR5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a("fZjL")),s=l(a("Ad7o")),r=l(a("8PSq")),i=l(a("a6qI")),o=l(a("8m38")),u=l(a("eie/")),c=l(a("SS0e"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"HomePage",components:{TitleForm:s.default,SentenceForm:r.default,NextSentenceForm:i.default,PageComponent:o.default,PictureDisplay:u.default,ExportButton:c.default},data:function(){return{editing:!1,currentPage:(0,n.default)(this.$store.state.pages).length,previousSentence:"",refreshGenerated:{pageNum:1,sentence:"This is a story about "+this.$store.state.currentTitle},changeCount:0,saveNextSentence:0,nextSentenceInfo:0,editingTitle:!1}},methods:{finishPage:function(){if(this.$store.state.pages[this.currentPage].selectedImage>-1){this.$store.commit("editPage",this.currentPage),this.saveNextSentence+=1,this.nextSentenceInfo=this.currentPage,this.currentPage===(0,n.default)(this.$store.state.pages).length&&this.$store.commit("createPage"),this.editing=!1,this.currentPage=(0,n.default)(this.$store.state.pages).length;this.$store.commit("alert",{message:"Page has been successfully saved.",status:"success"})}else{this.$store.commit("alert",{message:"No image has been selected",status:"error"})}},getPage:function(e){var t=this.$store.state.pages[e];this.currentPage=e,this.$store.commit("changeSentence",{pageNum:this.currentPage,sentence:t.caption}),this.editing=!0},sendNotificationToGeneration:function(e){this.changeCount+=1},pageDeleted:function(e){var t=(0,n.default)(this.$store.state.pages).length;t in this.$store.state.pages||(t-=1),this.getPage(t)},titleEditing:function(e){this.editingTitle=e}}}},olkN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a("Xxa5")),s=g(a("exGp")),r=g(a("d7EF")),i=g(a("W3Iv")),o=g(a("BO1k")),u=g(a("fZjL")),c=g(a("7+uW")),l=g(a("NYxO")),d=g(a("424j")),f=g(a("aKzY")),p=a("iUfa");function g(e){return e&&e.__esModule?e:{default:e}}c.default.use(l.default);var m=new l.default.Store({state:{userId:"",uniqueId:"",jwtCredentials:"",apikey:"",apiKeyFirebase:"",authDomainFirebase:"",projectIdFirebase:"",storageBucketFirebase:"",messagingSenderIdFirebase:"",appIdFirebase:"",measurementIdFirebase:"",password:"",currentTitle:"",titleImage:"",pages:{},currentSentence:"",alerts:{}},mutations:{alert:function(e,t){c.default.set(e.alerts,t.message,t.status),setTimeout(function(){c.default.delete(e.alerts,t.message)},3e3)},changeTitle:function(e,t){e.currentTitle=t},addApiKey:function(e,t){e.apikey=t.apiKey,e.apiKeyFirebase=t.apiKeyFirebase,e.authDomainFirebase=t.authDomainFirebase,e.projectIdFirebase=t.projectIdFirebase,e.storageBucketFirebase=t.storageBucketFirebase,e.messagingSenderIdFirebase=t.messagingSenderIdFirebase,e.appIdFirebase=t.appIdFirebase,e.measurementIdFirebase=t.measurementIdFirebase,e.password=t.password},changeSentence:function(e,t){e.currentSentence=t.sentence,t.sentence&&(e.pages[t.pageNum].caption=t.sentence)},editPage:function(e,t){var a="This is a story about "+e.currentTitle;if(t in e.pages){t-1>=1&&(a=e.pages[t-1].caption);var n=e.pages[t];n.caption=e.currentSentence,n.previousSentence=a,e.pages[t]=n,e.currentSentence=e.pages[(0,u.default)(e.pages).length].currentSentence?e.pages[(0,u.default)(e.pages).length].currentSentence:""}},createPage:function(e){e.currentTitle;(0,u.default)(e.pages).length-1>=1&&e.pages[(0,u.default)(e.pages).length-1].caption;var t=new f.default;t.caption="",t.previousSentence="",e.pages[(0,u.default)(e.pages).length+1]=t,e.currentSentence=""},editNextSentence:function(e,t){e.pages[t.pageNum].nextCaption=t.sentence},deletePage:function(e,t){delete e.pages[t.pageNumber];var a={},n=!0,s=!1,u=void 0;try{for(var c,l=(0,o.default)((0,i.default)(e.pages));!(n=(c=l.next()).done);n=!0){var d=(0,r.default)(c.value,2),f=d[0],p=d[1];f>t.pageNumber?a[f-1]=p:a[f]=p}}catch(e){s=!0,u=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw u}}e.pages=a},refreshGeneratedSentence:function(e,t){e.pages[t.pageNum].generatedSentences=t.sentences},refreshGeneratedImages:function(e,t){var a=this,r=[],i=!0,u=!1,c=void 0;try{for(var l,d=(0,o.default)(t.images);!(i=(l=d.next()).done);i=!0){var f=l.value,g=(0,p.ref)(t.imagesRef,e.userId);g=(0,p.ref)(g,(new Date).toJSON()),1,(0,p.uploadString)(g,f,"base64").then(function(){var e=(0,s.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,(0,p.getDownloadURL)(t.ref);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()),e.pages[t.pageNum].allImages=r}}catch(e){u=!0,c=e}finally{try{!i&&d.return&&d.return()}finally{if(u)throw c}}},refreshTitleImage:function(e,t){e.titleImage=t},refreshSelectedImage:function(e,t){e.pages[t.pageNum].selectedImage=t.image},updateJwtCreds:function(e,t){e.jwtCredentials=t},updateUserId:function(e,t){e.userId=t},updateUniqueId:function(e,t){e.uniqueId=t}},plugins:[(0,d.default)({storage:window.sessionStorage})]});t.default=m},pIGQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("mvHQ")),s=u(a("Xxa5")),r=u(a("exGp")),i=a("a6Nv"),o=a("iUfa");function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TitleImage",data:function(){return{loading:!1,image:this.$store.state.titleImage}},props:{currentTitle:{type:String,required:!0},generateImage:{type:Number,required:!0}},watch:{generateImage:function(){var e=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==this.currentTitle&&(this.generate(),this.loading=!0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},methods:{saveTitle:function(){if(""!==this.image)this.$store.commit("refreshTitleImage",this.image),this.$emit("titleEditing",!1);else{this.$store.commit("alert",{message:"You must select a title image before continuing",status:"error"})}},generate:function(){var e={method:"POST",message:"Successfully generated images",body:(0,n.default)({prompt:"An image that could be in a picture book of the following sentence: "+this.$store.state.currentTitle,n:1,size:"256x256",response_format:"b64_json"})};this.request(e)},request:function(){var e=(0,r.default)(s.default.mark(function e(t){var a,n,u,c,l,d,f,p,g=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:t.method,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.apikey,"Access-Control-Allow-Origin":"*"}},t.body&&(a.body=t.body),e.prev=2,e.next=5,fetch("https://api.openai.com/v1/images/generations",a);case 5:if((n=e.sent).ok){e.next=11;break}return e.next=9,n.json();case 9:throw u=e.sent,new Error(u.error);case 11:return e.next=13,n.json();case 13:c=e.sent,l=c.data.map(function(e){return e.b64_json}),d=(new Date).getTime().toString(),f=(0,o.ref)(i.imagesRef,d),f=(0,o.ref)(f,this.$store.state.userId),f=(0,o.ref)(f,(new Date).toJSON()),(0,o.uploadString)(f,l,"base64").then(function(){var e=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getDownloadURL)(t.ref);case 2:g.image=e.sent,g.loading=!1,a="Successfully generated images!",g.$store.commit("alert",{message:a,status:"success"});case 6:case"end":return e.stop()}},e,g)}));return function(t){return e.apply(this,arguments)}}()),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),p="There was an error fetching images",this.$store.commit("alert",{message:p,status:"error"});case 26:case"end":return e.stop()}},e,this,[[2,22]])}));return function(t){return e.apply(this,arguments)}}()}}},pTRu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("mvHQ")),s=o(a("Xxa5")),r=o(a("exGp")),i=a("a6Nv");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"PictureDisplay",props:{pageNum:{type:Number,required:!1},changeCount:{type:Number,required:!0}},data:function(){return{selected:[!1,!1,!1,!1],images:this.$store.state.pages[this.pageNum].allImages?this.$store.state.pages[this.pageNum].allImages:[],loading:!1}},watch:{changeCount:function(){var e=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==this.$store.state.currentSentence?(this.generateImages(),this.loading=!0):this.images=this.$store.state.pages[this.pageNum].allImages;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),pageNum:function(e){this.images=this.$store.state.pages[e].allImages,this.selected=[!1,!1,!1,!1],this.$store.state.pages[e].selectedImage>-1&&(this.selected[this.$store.state.pages[e].selectedImage]=!0)}},methods:{imgClicked:function(e){this.selected=[!1,!1,!1,!1],this.selected[e]=!0,this.$store.commit("refreshSelectedImage",{pageNum:this.pageNum,image:e})},generateImages:function(){var e={method:"POST",message:"Successfully generated images",body:(0,n.default)({prompt:"An image that could be in a picture book of the following sentence: "+this.$store.state.currentSentence,n:4,size:"256x256",response_format:"b64_json"})};this.request(e)},request:function(){var e=(0,r.default)(s.default.mark(function e(t){var a,n,r,o,u,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:t.method,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.apikey,"Access-Control-Allow-Origin":"*"}},t.body&&(a.body=t.body),e.prev=2,e.next=5,fetch("https://api.openai.com/v1/images/generations",a);case 5:if((n=e.sent).ok){e.next=11;break}return e.next=9,n.json();case 9:throw r=e.sent,new Error(r.error);case 11:return e.next=13,n.json();case 13:o=e.sent,this.selected=[!1,!1,!1,!1],this.images=o.data.map(function(e){return e.b64_json}),this.$store.commit("refreshGeneratedImages",{pageNum:this.pageNum,images:this.images,imagesRef:i.imagesRef}),u="Successfully generated images!",this.$store.commit("alert",{message:u,status:"success"}),this.images=this.$store.state.pages[this.pageNum].allImages,this.loading=!1,e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),c="There was an error fetching images",this.$store.commit("alert",{message:c,status:"error"}),this.loading=!1;case 28:case"end":return e.stop()}},e,this,[[2,23]])}));return function(t){return e.apply(this,arguments)}}()}}},pZvF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("+gcm"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("kSbZ");var o=function(e){a("cYSq")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-26a30976",null);t.default=u.exports},r7iZ:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("section",{staticClass:"title-area"},[a("textarea",{staticClass:"sentence-content",domProps:{value:e.draft},on:{input:function(t){e.draft=t.target.value}}}),e._v(" "),a("button",{staticClass:"sentence-button button-74",on:{click:e.addSentence}},[e._v("Save Sentence & Generate Image")])]),e._v(" "),a("section",[a("p",[e._v("Suggested sentences:")]),e._v(" "),e._l(e.sentences,function(t,n){return e.loading?e._e():a("p",{key:n},[e._v("\n            "+e._s(t)+"\n        ")])}),e._v(" "),e.loading?a("p",[e._v("Suggested sentences are loading...")]):e._e()],2)])},staticRenderFns:[]};t.a=n},r9DK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"PagePdfTemplate",props:{pageNumber:{type:Number,required:!0},selectedImage:{type:Number,required:!0}}}},sVOQ:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"title-image"},[e.loading?a("p",{staticClass:"centered"},[e._v("Loading...\n    ")]):e._e(),e._v(" "),""==e.image?a("div",{staticClass:"empty-box"},[a("p",{staticClass:"box-text"},[e._v("No image generated")])]):e._e(),e._v(" "),""!=e.image?a("section",{staticClass:"box"},[a("img",{staticClass:"box regular-image",attrs:{src:e.image}})]):e._e(),e._v(" "),a("button",{staticClass:"sentence-button button-74",on:{click:e.saveTitle}},[e._v("Save Title Page\n    ")])])},staticRenderFns:[]};t.a=n},tJOI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("SkNQ"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("An/s");var o=function(e){a("uA25")},u=a("VU/8")(s.a,i.a,!1,o,"data-v-2e75b065",null);t.default=u.exports},uA25:function(e,t){},ujv0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("Xxa5")),s=o(a("exGp")),r=o(a("mvHQ")),i=o(a("+dii"));a("N+Om");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TitleForm",components:{TitleImage:i.default},data:function(){return{draft:this.$store.state.currentTitle,generateImage:0,password:this.$store.state.password,editing:!1}},methods:{getEncryptedItems:function(){this.$store.commit("updateUserId",this.username);var e={method:"POST",message:"Successfully updated credentials",body:(0,r.default)({username:this.username})};this.request(e)},request:function(){var e=(0,s.default)(n.default.mark(function e(t){var a,s,r,i,o,u;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:t.method,headers:{"Content-Type":"application/json"}},t.body&&(a.body=t.body),e.prev=2,e.next=5,fetch("https://wall-e.media.mit.edu:3000/login",a);case 5:if((s=e.sent).ok){e.next=12;break}return console.log("error thrown"),e.next=10,s.json();case 10:throw r=e.sent,new Error(r.error);case 12:return e.next=14,s.json();case 14:(i=e.sent).success&&((o=JSON.parse(this.$CryptoJS.AES.decrypt(i.accountInfo,this.password).toString(this.$CryptoJS.enc.Utf8))).password=this.password,this.$store.commit("addApiKey",o)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),u="There was an error fetching your credentials",this.$store.commit("alert",{message:u,status:"error"});case 22:case"end":return e.stop()}},e,this,[[2,18]])}));return function(t){return e.apply(this,arguments)}}(),addTitle:function(){if(/[A-Za-z0-9 _.,!\"\'\/$]+/.test(this.draft.trim())&&this.draft.trim().length<=140)this.$store.commit("changeTitle",this.draft.trim()),this.generateImage+=1;else{this.$store.commit("alert",{message:"Invalid title inputted",status:"error"})}},editTitle:function(){this.editing=!0,this.$emit("titleEditing",!0)},titleEditing:function(){this.editing=!1,this.$emit("titleEditing",!1)}}}},wrCO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=a("evJ6"),r=(n=s)&&n.__esModule?n:{default:n};t.default={name:"PageComponent",components:{DeleteButton:r.default},props:{pageNumber:{type:Number,required:!0},active:{type:Boolean,required:!0},selectedImage:{type:Number,required:!0}},watch:{active:function(e){var t=document.getElementById("box-"+this.pageNumber);null!==t&&(this.active?(t.style.transform="translateY(-15px)",t.style.boxShadow="rgba(0, 0, 0, 0.2) 0 4px 12px"):(t.style.transform="translateY(0px)",t.style.boxShadow="rgba(0, 0, 0, 0) 0 4px 12px"))}},mounted:function(){if(this.active){var e=document.getElementById("box-"+this.pageNumber);null!==e&&(e.style.transform="translateY(-15px)",e.style.boxShadow="rgba(0, 0, 0, 0.2) 0 4px 12px")}},data:function(){return{alerts:{}}},methods:{boxClicked:function(){this.$emit("boxClicked",this.pageNumber)},pageDeleted:function(){this.$emit("pageDeleted",this.pageNumber)}}}},xJD8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=a("fZjL"),r=(n=s)&&n.__esModule?n:{default:n};t.default={name:"App",beforeCreate:function(){this.$store.state.alerts={}},created:function(){0===(0,r.default)(this.$store.state.pages).length&&this.$store.commit("createPage")},watch:{"$store.state.measurementIdFirebase":function(){window.location.reload()},"$store.state.password":function(){this.testCall()}}}},"zUo+":function(e,t,a){"use strict";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};t.a=n}},["NHnr"]);
//# sourceMappingURL=app.6e12cfc05f4f1df3a245.js.map